<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillPilot - –ö–∞—Ä—å–µ—Ä–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</title>
    <style>
        /* -- –¢–ï–ú–´ -- */
        /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ (–Ω–µ —Ç—Ä–æ–≥–∞–µ–º) */
        :root.dark {
            --bg: #0b1220;
            --card: #0f1724;
            --muted: #94a3b8;
            --accent: #7c5cff;
            --accent-2: #2dd4bf;
            --glass: rgba(255,255,255,0.03);
            --glass-2: rgba(255,255,255,0.04);
            --border: rgba(255,255,255,0.06);
            --text: #e6eef8;
            --text-dim: #b9c6da;
        }
.level-circle.active-level {
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color: white !important;
    border-color: var(--accent);
    box-shadow: 0 6px 18px rgba(0,0,0,0.15);
}

        /* –°–≤–µ—Ç–ª–∞—è –±–µ–∂–µ–≤–æ-–∑–æ–ª–æ—Ç–∞—è —Ç–µ–º–∞ (–ø–µ—Ä–µ–Ω—ë—Å –∏–∑ SkillPilot.html) */
        :root.light {
            --bg: #f9f6f0;          /* –ë–µ–∂–µ–≤—ã–π —Ñ–æ–Ω */
            --card: #fefcf8;        /* –°–≤–µ—Ç–ª–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
            --border: #e8dfcb;      /* –ë–µ–∂–µ–≤–æ-–º—è–≥–∫–∞—è —Ä–∞–º–∫–∞ */
            --muted: #8a8374;       /* –¢–µ–∫—Å—Ç —Å–ª–∞–±—ã–π */
            --text: #5a5343;        /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç—ë–º–Ω–æ-–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ç–µ–∫—Å—Ç */
            --text-dim: #8a8374;    /* –ü—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–π –∫–æ—Ä–∏—á–Ω–µ–≤—ã–π */

            --accent: #c9a96e;      /* –ó–æ–ª–æ—Ç–æ */
            --accent-2: #b08d57;    /* –ë—Ä–æ–Ω–∑–∞ */

            --glass: rgba(0,0,0,0.04);
            --glass-2: rgba(0,0,0,0.06);
        }

        /* –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `--bg` –∏ —Ç.–¥. –±—É–¥—É—Ç –≤–∑—è—Ç—ã –∏–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–∞ <html> */
        :root { }

        /* –°–±—Ä–æ—Å */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }

        /* –û–±—â–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
        body { font-family: 'Segoe UI', system-ui, -apple-system, 'Helvetica Neue', Arial; background: var(--bg); color: var(--text); line-height: 1.6; -webkit-font-smoothing:antialiased; }
        .container { max-width: 1200px; margin: 0 auto; padding: 24px; }
        .screen { display: none; }
        .screen.active { display: block; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--card);
            border-radius: 14px; padding: 22px; margin-bottom: 20px;
            border: 1px solid var(--border);
            box-shadow: 0 6px 30px rgba(2,6,23,0.04);
            color: var(--text);
        }

        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .card-title { font-size: 1.15em; font-weight: 700; color: var(--text); }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: transparent; color: var(--text); border: 1px solid var(--border); padding: 10px 18px;
            border-radius: 10px; cursor: pointer; font-weight: 600; transition: all .18s ease; user-select: none;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.06); }
        .btn-primary { background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: white; border: none; }

        /* –•–µ–¥–µ—Ä –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .header { background: var(--card); border-radius: 12px; padding: 14px 18px; margin-bottom: 22px; border: 1px solid var(--border); position: relative; }
        .nav-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 48px;
        }
        .logo {
            position: absolute;
            left: 18px;
            font-size: 22px;
            font-weight: 800;
            color: var(--accent-2);
            letter-spacing: 0.6px;
        }
        .nav-links { display: flex; gap: 12px; align-items: center; }
        .nav-links a {
            color: var(--text-dim); text-decoration: none; padding: 8px 14px; border-radius: 10px;
            cursor: pointer; transition: all 0.18s ease;
            font-weight: 600; font-size: 0.95em;
        }
        .nav-links a:hover { background: var(--glass-2); color: var(--text); }
        .nav-links a.active { background: linear-gradient(90deg, rgba(201,169,110,0.12), rgba(176,141,87,0.06)); color: var(--text); box-shadow: 0 6px 18px rgba(201,169,110,0.06); }

        /* –ö–Ω–æ–ø–∫–∞ —Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ —Å–ø—Ä–∞–≤–∞ */
        .theme-btn {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 50;
            background: transparent;
        }
        .theme-btn:hover { transform: translateY(-50%) translateY(-2px); }

        /* –°–µ—Ç–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π */
        .main-grid { display: grid; grid-template-columns: 1fr 360px; gap: 26px; }

        /* –ù–∞–≤—ã–∫–∏ */
        .skill-item { margin-bottom: 18px; }
        .skill-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; gap: 8px; }
        .skill-name { font-weight: 700; color: var(--text); }
        .skill-percent { font-weight: 700; color: var(--accent-2); min-width: 54px; text-align: right; }
        .edit-skill { cursor: pointer; margin-left: 8px; padding: 6px; border-radius: 8px; font-size: 0.95em; background: transparent; border: 1px solid var(--border); }
        .progress-bar { background: var(--glass); border-radius: 10px; height: 10px; overflow: hidden; }
        .progress-fill { background: linear-gradient(90deg, var(--accent), var(--accent-2)); height: 100%; border-radius: 10px; transition: width .3s ease; }

        /* –ö—É—Ä—Å—ã */
        .courses-grid { display: grid; gap: 14px; }
        .course-card {
            background: var(--card); padding: 18px; border-radius: 12px; border-left: 4px solid rgba(201,169,110,0.18);
            cursor: pointer; transition: transform .18s ease, box-shadow .18s ease;
        }
        .course-card:hover { transform: translateY(-6px); box-shadow: 0 18px 50px rgba(2,6,23,0.06); }
        .course-title { font-weight: 700; margin-bottom: 8px; color: var(--text); }
        .course-meta { display: flex; gap: 12px; color: var(--text-dim); font-size: 0.92em; }

        /* –ì–∞–º–∏—Ñ–∏–∫–∞—Ü–∏—è */
        .gamification-panel {
            background: linear-gradient(135deg, rgba(201,169,110,0.12), rgba(176,141,87,0.06)); color: var(--text); padding: 18px; border-radius: 12px; margin-bottom: 18px; border: 1px solid rgba(0,0,0,0.02);
        }
        .gamification-panel .value { font-weight: 800; font-size: 1.25em; }

        /* –£—Ä–æ–≤–Ω–∏ - —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ –∫—Ä—É–∂–∫–∏ */
        .level-system {
            text-align: center;
            background: linear-gradient(180deg, rgba(255,255,255,0.00), rgba(255,255,255,0.00));
            padding: 24px 18px;
            border-radius: 12px;
            margin: 18px 0;
            border: 1px solid var(--border);
        }
        .level-path {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0;
            margin: 16px 0;
            text-align: center;
            align-items: center;
            position: relative;
        }
        .level-stage { display:flex; flex-direction:column; align-items:center; gap:8px; }
        .level-circle {
            width: 40px; height: 40px; border-radius: 50%;
            background: var(--glass); border: 2px solid var(--border);
            color: var(--text); display:flex; align-items:center; justify-content:center; font-weight:700;
        }
        .level-label { font-size: 0.95em; color: var(--text); font-weight:600; }

        /* –ß–µ–ª–ª–µ–Ω–¥–∂–∏ */
        .challenges-grid { display: grid; gap: 12px; }
        .challenge-card { background: var(--card); padding: 16px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; border-left: 3px solid rgba(201,169,110,0.08); }
        .challenge-title { font-weight: 700; color: var(--text); }
        .challenge-xp { color: var(--accent-2); font-weight: 700; }
        .challenge-checkbox { width: 22px; height: 22px; border: 2px solid var(--border); border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .challenge-checkbox.checked { background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: white; }

        /* –ë–µ–π–¥–∂–∏ —Å —Ç—É–ª—Ç–∏–ø–æ–º */
        .badges-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 12px; }
        .badge {
            background: var(--card); padding: 12px 10px; border-radius: 12px; text-align: center; border: 1px solid var(--border);
            position: relative; cursor: default;
        }
        .badge.locked { opacity: 0.9; }
        .badge-icon { font-size: 1.7em; margin-bottom: 8px; }
        .badge-name { font-size: 0.9em; font-weight: 700; color: var(--text); }

        /* tooltip */
        .tooltip .tooltip-text {
            display: none;
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--card);
            padding: 10px;
            border-radius: 10px;
            white-space: nowrap;
            color: var(--text);
            border: 1px solid var(--border);
            box-shadow: 0 6px 18px rgba(0,0,0,0.06);
            z-index: 200;
            font-size: 0.9em;
        }
        .tooltip:hover .tooltip-text { display: block; }

        /* –õ–∏–¥–µ—Ä—ã */
        .leaderboard-horizontal { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; margin-top: 14px; }
        .leaderboard-user { background: var(--card); padding: 16px; border-radius: 12px; text-align: center; border: 1px solid var(--border); }
        .leaderboard-avatar { width: 56px; height: 56px; border-radius: 50%; margin: 0 auto 10px; background: var(--glass); display: flex; align-items: center; justify-content: center; font-size: 1.4em; border: 2px solid var(--border); }
        .leaderboard-name { font-weight: 800; margin-bottom: 6px; color: var(--text); }
        .leaderboard-xp { color: var(--accent-2); font-weight: 800; font-size: 0.95em; }

        /* –ú–æ–¥–∞–ª–∫–∏ –∏ —á–∞—Ç */
        .modal, .chat-modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--card); border-radius: 12px; padding: 18px; z-index: 1002; min-width: 420px; border: 1px solid var(--border); }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(2,6,23,0.4); z-index: 1001; }

        .ai-chat-widget { position: fixed; bottom: 28px; right: 28px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: white; padding: 14px 20px; border-radius: 999px; cursor: pointer; font-weight: 800; box-shadow: 0 18px 50px rgba(0,0,0,0.06); z-index: 1200; }

        .chat-messages { height: 300px; overflow-y: auto; padding: 14px; }
        .message { padding: 10px 14px; border-radius: 14px; margin-bottom: 10px; max-width: 80%; }
        .user-message { background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: white; margin-left: auto; }
        .ai-message { background: var(--card); color: var(--text); border: 1px solid var(--border); }
        .chat-input { display:flex; padding: 14px; gap: 10px; }
        .chat-input input { flex:1; padding:10px; border:1px solid var(--border); border-radius:10px; background:transparent; color:var(--text); }

        /* –ú–æ–±–∏–ª–∫–∞ */
        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; }
            .nav-container { flex-direction: column; gap: 12px; align-items: center; min-height: auto; padding: 10px 0; }
            .logo { position: static; left:auto; top:auto; transform:none; }
            .theme-btn { position: static; transform: none; margin-left: 12px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–∞—è -->
        <div class="screen active" id="screen-dashboard">
            <header class="header">
                <div class="nav-container">
                    <div class="logo">üöÄ SkillPilot</div>
                    <nav class="nav-links">
                        <a class="active" onclick="showScreen('screen-dashboard')">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a onclick="showScreen('screen-skills')">–ù–∞–≤—ã–∫–∏</a>
                        <a onclick="showScreen('screen-courses')">–ö—É—Ä—Å—ã</a>
                        <a onclick="showScreen('screen-gamification')">–£—Ä–æ–≤–Ω–∏</a>
                    </nav>
                    <button class="btn theme-btn" onclick="toggleTheme()">üåì –¢–µ–º–∞</button>
                </div>
            </header>

            <div class="main-grid">
                <div class="left-column">
                    <div class="gamification-panel card">
                        <div style="font-size: 1.05em; margin-bottom: 8px;">üéØ –û–ø—ã—Ç: <span id="userXP">0</span> EXP</div>
                        <div style="margin-bottom: 8px;">–£—Ä–æ–≤–µ–Ω—å: <span id="userLevel">0</span></div>
                        <div style="font-size: 0.95em; color: var(--text-dim);">–î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è: <span id="xpToNextLevel">300</span> EXP</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">–û—Ü–µ–Ω–∫–∞ –Ω–∞–≤—ã–∫–æ–≤</div>
                            <button class="btn btn-primary" onclick="openSkillEditor('dashboard')">–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω</button>
                        </div>

                        <!-- –ù–∞–≤—ã–∫–∏: –ø—Ä–∏–º–µ—Ä —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                        <div class="skill-item" id="skill-leadership-item">
                            <div class="skill-header">
                                <span class="skill-name">–õ–∏–¥–µ—Ä—Å—Ç–≤–æ</span>
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <span class="skill-percent" id="skill-leadership">80%</span>
                                    <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('leadership')">‚öôÔ∏è</button>
                                </div>
                            </div>
                            <div class="progress-bar"><div id="leadership-bar" class="progress-fill" style="width:80%"></div></div>
                        </div>
<div class="skill-item" id="skill-tech-item">
    <div class="skill-header">
        <span class="skill-name">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏</span>
        <div style="display:flex; align-items:center; gap:8px;">
            <span class="skill-percent" id="skill-tech">90%</span>
            <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('tech')">‚öôÔ∏è</button>
        </div>
    </div>
    <div class="progress-bar">
        <div id="tech-bar" class="progress-fill" style="width:90%"></div>
    </div>
</div>
<div class="skill-item" id="skill-interview-item">
    <div class="skill-header">
        <span class="skill-name">–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π</span>
        <div style="display:flex; align-items:center; gap:8px;">
            <span class="skill-percent" id="skill-interview">50%</span>
            <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('interview')">‚öôÔ∏è</button>
        </div>
    </div>
    <div class="progress-bar">
        <div id="interview-bar" class="progress-fill" style="width:50%"></div>
    </div>
</div>
                        <div class="skill-item" id="skill-pm-item">
                            <div class="skill-header">
                                <span class="skill-name">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</span>
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <span class="skill-percent" id="skill-pm">65%</span>
                                    <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('pm')">‚öôÔ∏è</button>
                                </div>
                            </div>
                            <div class="progress-bar"><div id="pm-bar" class="progress-fill" style="width:65%"></div></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫—É—Ä—Å—ã</div>
                            <button class="btn" onclick="showScreen('screen-courses')">–í—Å–µ –∫—É—Ä—Å—ã</button>
                        </div>
                        <div class="courses-grid">
                            <div class="course-card" data-course-name="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ" onclick="startCourse('–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ', 200)">
                                <div class="course-title">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å –ª–∏–¥–µ—Ä—Å—Ç–≤–∞</div>
                                <div class="course-meta"><span>üïí 8 –Ω–µ–¥–µ–ª—å</span><span>‚≠ê 4.8</span><span>üéØ +200 EXP</span></div>
                            </div>
                            <div class="course-card" data-course-name="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏" onclick="startCourse('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏', 150)">
                                <div class="course-title">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</div>
                                <div class="course-meta"><span>üïí 6 –Ω–µ–¥–µ–ª—å</span><span>‚≠ê 4.6</span><span>üéØ +150 EXP</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="right-column">
                    <div class="card">
                        <div class="card-header"><div class="card-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div></div>
                        <div class="badges-grid">
                            <div class="badge tooltip locked">
                                <div class="badge-icon">‚≠ê</div>
                                <div class="badge-name">–ë—ã—Å—Ç—Ä—ã–π —É—á–µ–Ω–∏–∫</div>
                                <span class="tooltip-text">–ü—Ä–æ–π—Ç–∏ 3 –∫—É—Ä—Å–∞ –∑–∞ –Ω–µ–¥–µ–ª—é</span>
                            </div>
                            <div class="badge tooltip locked">
                                <div class="badge-icon">üèÜ</div>
                                <div class="badge-name">–¢–æ–ø-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</div>
                                <span class="tooltip-text">–ù–∞–±—Ä–∞—Ç—å 2000 EXP –∑–∞ –º–µ—Å—è—Ü</span>
                            </div>
                            <div class="badge tooltip locked">
                                <div class="badge-icon">üöÄ</div>
                                <div class="badge-name">–í–æ—Å—Ö–æ–¥—è—â–∞—è –∑–≤–µ–∑–¥–∞</div>
                                <span class="tooltip-text">–ó–∞–≤–µ—Ä—à–∏—Ç—å 5 –∫—É—Ä—Å–æ–≤</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∞–≤—ã–∫–∏ -->
        <div class="screen" id="screen-skills">
            <header class="header">
                <div class="nav-container">
                    <div class="logo">üöÄ SkillPilot</div>
                    <nav class="nav-links">
                        <a onclick="showScreen('screen-dashboard')">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a class="active" onclick="showScreen('screen-skills')">–ù–∞–≤—ã–∫–∏</a>
                        <a onclick="showScreen('screen-courses')">–ö—É—Ä—Å—ã</a>
                        <a onclick="showScreen('screen-gamification')">–£—Ä–æ–≤–Ω–∏</a>
                    </nav>
                    <button class="btn theme-btn" onclick="toggleTheme()">üåì –¢–µ–º–∞</button>
                </div>
            </header>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">–ú–æ–∏ –Ω–∞–≤—ã–∫–∏</div>
                    <button class="btn btn-primary" onclick="openSkillEditor('skills')">–°–ø—Ä–æ—Å–∏—Ç—å –ò–ò</button>
                </div>
<div class="skill-item">
    <div class="skill-header">
        <span class="skill-name">–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π</span>
        <div style="display:flex; align-items:center; gap:8px;">
            <span class="skill-percent" id="skill-interview">50%</span>
            <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('interview')">‚öôÔ∏è</button>
        </div>
    </div>
    <div class="progress-bar">
        <div id="interview-bar" class="progress-fill" style="width:50%"></div>
    </div>
</div>
                <div class="skill-item">
                    <div class="skill-header">
                        <span class="skill-name">–õ–∏–¥–µ—Ä—Å—Ç–≤–æ</span>
                        <div style="display:flex; align-items:center; gap:8px;">
                            <span class="skill-percent" id="skill-leadership-2">80%</span>
                            <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('leadership')">‚öôÔ∏è</button>
                        </div>
                    </div>
                    <div class="progress-bar"><div id="leadership-bar-2" class="progress-fill" style="width:80%"></div></div>
                </div>

                <div class="skill-item">
                    <div class="skill-header">
                        <span class="skill-name">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</span>
                        <div style="display:flex; align-items:center; gap:8px;">
                            <span class="skill-percent" id="skill-pm-2">65%</span>
                            <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('pm')">‚öôÔ∏è</button>
                        </div>
                    </div>
                    <div class="progress-bar"><div id="pm-bar-2" class="progress-fill" style="width:65%"></div></div>
                </div>

                <div class="skill-item">
                    <div class="skill-header">
                        <span class="skill-name">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏</span>
                        <div style="display:flex; align-items:center; gap:8px;">
                            <span class="skill-percent" id="skill-tech-2">90%</span>
                            <button class="edit-skill" title="–ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" onclick="editSkill('tech')">‚öôÔ∏è</button>
                        </div>
                    </div>
                    <div class="progress-bar"><div id="tech-bar-2" class="progress-fill" style="width:90%"></div></div>
                </div>
            </div>
        </div>

        <!-- –ö—É—Ä—Å—ã -->
        <div class="screen" id="screen-courses">
            <header class="header">
                <div class="nav-container">
                    <div class="logo">üöÄ SkillPilot</div>
                    <nav class="nav-links">
                        <a onclick="showScreen('screen-dashboard')">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a onclick="showScreen('screen-skills')">–ù–∞–≤—ã–∫–∏</a>
                        <a class="active" onclick="showScreen('screen-courses')">–ö—É—Ä—Å—ã</a>
                        <a onclick="showScreen('screen-gamification')">–£—Ä–æ–≤–Ω–∏</a>
                    </nav>
                    <button class="btn theme-btn" onclick="toggleTheme()">üåì –¢–µ–º–∞</button>
                </div>
            </header>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫—É—Ä—Å—ã</div>
                    <button class="btn btn-primary" onclick="autoChat('–ü–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É–π –∫—É—Ä—Å...', '–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å –∫—É—Ä—Å–∞: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å –ª–∏–¥–µ—Ä—Å—Ç–≤–∞')">–°–ø—Ä–æ—Å–∏—Ç—å –ò–ò</button>
                </div>
                <div class="courses-grid">
                    <div class="course-card" data-course-name="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ" data-course-name="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ" onclick="startCourse('–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ', 200)">

                        <div class="course-title">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å –ª–∏–¥–µ—Ä—Å—Ç–≤–∞</div>
                        <div class="course-meta"><span>üïí 8 –Ω–µ–¥–µ–ª—å</span><span>‚≠ê 4.8</span><span>üéØ +200 XP</span></div>
                    </div>
                    <div class="course-card" data-course-name="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏" onclick="startCourse('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏', 150)">
                        <div class="course-title">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</div>
                        <div class="course-meta"><span>üïí 6 –Ω–µ–¥–µ–ª—å</span><span>‚≠ê 4.6</span><span>üéØ +150 XP</span></div>
                    </div>
                    <div class="course-card" data-course-name="–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏" onclick="startCourse('–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏', 120)">
                        <div class="course-title">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</div>
                        <div class="course-meta"><span>üïí 4 –Ω–µ–¥–µ–ª–∏</span><span>‚≠ê 4.9</span><span>üéØ +120 XP</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –£—Ä–æ–≤–Ω–∏ -->
        <div class="screen" id="screen-gamification">
            <header class="header">
                <div class="nav-container">
                    <div class="logo">üöÄ SkillPilot</div>
                    <nav class="nav-links">
                        <a onclick="showScreen('screen-dashboard')">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a onclick="showScreen('screen-skills')">–ù–∞–≤—ã–∫–∏</a>
                        <a onclick="showScreen('screen-courses')">–ö—É—Ä—Å—ã</a>
                        <a class="active" onclick="showScreen('screen-gamification')">–£—Ä–æ–≤–Ω–∏</a>
                    </nav>
                    <button class="btn theme-btn" onclick="toggleTheme()">üåì –¢–µ–º–∞</button>
                </div>
            </header>

            <div class="main-grid">
                <div class="left-column">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π</div>
                            <div class="btn" onclick="showLevelInfo()">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                        </div>
                        <div class="level-system">
                            <p style="font-size: 1.03em; margin-bottom: 12px; color: var(--text); font-weight: 500;">–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç Junior –∫ Lead —á–µ—Ä–µ–∑ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π</p>
                            <div class="level-path">
                                <div class="level-stage">
                                    <div class="level-circle">J</div>
                                    <div class="level-label">Junior</div>
                                </div>
                                <div class="level-stage">
                                    <div class="level-circle">M</div>
                                    <div class="level-label">Middle</div>
                                </div>
                                <div class="level-stage">
                                    <div class="level-circle">S</div>
                                    <div class="level-label">Senior</div>
                                </div>
                                <div class="level-stage">
                                    <div class="level-circle">TL</div>
                                    <div class="level-label">Team Lead</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</div>
                        </div>
                        <div class="leaderboard-horizontal">
                            <div class="leaderboard-user">
                                <div class="leaderboard-rank">ü•á 1 –º–µ—Å—Ç–æ</div>
                                <div class="leaderboard-avatar">üëë</div>
                                <div class="leaderboard-name">–ê–ª–µ–∫—Å–µ–π –ù.</div>
                                <div class="leaderboard-xp">2,450 EXP</div>
                            </div>
                            <div class="leaderboard-user">
                                <div class="leaderboard-rank">ü•à 2 –º–µ—Å—Ç–æ</div>
                                <div class="leaderboard-avatar">üöÄ</div>
                                <div class="leaderboard-name">–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –°.</div>
                                <div class="leaderboard-xp">1,890 EXP</div>
                            </div>
                            <div class="leaderboard-user">
                                <div class="leaderboard-rank">ü•â 3 –º–µ—Å—Ç–æ</div>
                                <div class="leaderboard-avatar">‚≠ê</div>
                                <div class="leaderboard-name">–î–º–∏—Ç—Ä–∏–π –ö.</div>
                                <div class="leaderboard-xp">1,560 EXP</div>
                            </div>
                            <div class="leaderboard-user">
                                <div class="leaderboard-rank">4 –º–µ—Å—Ç–æ</div>
                                <div class="leaderboard-avatar">üë§</div>
                                <div class="leaderboard-name">–í—ã</div>
                                <div class="leaderboard-xp" id="userLeaderboardXP">0 EXP</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="right-column">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">–í–∞—à–∏ –Ω–∞–≥—Ä–∞–¥—ã</div>
                            <button class="btn" onclick="openChat()">–°–ø—Ä–æ—Å–∏—Ç—å –ò–ò</button>
                        </div>
                        <div style="text-align: center; padding: 34px 18px; color: var(--text-dim);">
                            üéÅ –ù–∞–≥—Ä–∞–¥—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">–ë–µ–π–¥–∂–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
                        </div>
                        <div class="badges-grid">
                            <div class="badge tooltip">
                                <div class="badge-icon">üìä</div>
                                <div class="badge-name">–ü—Ä–æ—Ñ–∏–ª—å –Ω–∞ 100%</div>
                                <span class="tooltip-text">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ 100%</span>
                            </div>
                            <div class="badge tooltip">
                                <div class="badge-icon">üèÖ</div>
                                <div class="badge-name">–≠–∫—Å–ø–µ—Ä—Ç –º–µ—Å—è—Ü–∞</div>
                                <span class="tooltip-text">–ü–æ–ª—É—á–∏—Ç—å 500 EXP –∑–∞ –º–µ—Å—è—Ü</span>
                            </div>
                            <div class="badge tooltip">
                                <div class="badge-icon">üìö</div>
                                <div class="badge-name">–ê–∫—Ç–∏–≤–Ω—ã–π —É—á–µ–Ω–∏–∫</div>
                                <span class="tooltip-text">–ü—Ä–æ—Ö–æ–¥–∏—Ç—å –∫—É—Ä—Å—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ</span>
                            </div>
                            <div class="badge tooltip">
                                <div class="badge-icon">üë£</div>
                                <div class="badge-name">–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏</div>
                                <span class="tooltip-text">–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—ã–π –∫—É—Ä—Å</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div class="modal" id="courseCompletionModal">
            <div class="card-header">
                <div class="card-title">–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫—É—Ä—Å–∞</div>
                <button class="btn" onclick="closeModal('courseCompletionModal')">√ó</button>
            </div>
            <div>
                <p>–í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –∫—É—Ä—Å <strong id="completedCourseName"></strong>?</p>
                <p>–í—ã –ø–æ–ª—É—á–∏—Ç–µ <span id="courseXPReward"></span> XP.</p>
            </div>
            <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:20px;">
                <button class="btn" onclick="closeModal('courseCompletionModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="confirmCourseCompletion()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            </div>
        </div>

        <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞–≤—ã–∫–∞ -->
        <div class="modal" id="skillEditModal">
            <div class="card-header">
                <div class="card-title">–í—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –Ω–∞–≤—ã–∫–∞</div>
                <button class="btn" onclick="closeModal('skillEditModal')">√ó</button>
            </div>
            <div style="display:flex; gap:10px; flex-wrap:wrap; padding-top:8px;">
                <button class="btn" onclick="setSkillLevel(25)">–ù–æ–≤–∏—á–æ–∫ (25%)</button>
                <button class="btn" onclick="setSkillLevel(50)">–°—Ä–µ–¥–Ω–∏–π (50%)</button>
                <button class="btn" onclick="setSkillLevel(75)">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π (75%)</button>
                <button class="btn btn-primary" onclick="setSkillLevel(100)">–≠–∫—Å–ø–µ—Ä—Ç (100%)</button>
            </div>
        </div>

        <!-- –ß–∞—Ç —Å –ò–ò -->
        <div class="ai-chat-widget" onclick="openChat()">ü§ñ –ò–ò –ü–æ–º–æ—â–Ω–∏–∫</div>
        <div class="overlay" id="overlay" onclick="closeAllModals()"></div>
        <div class="chat-modal" id="chatModal">
            <div class="card-header">
                <div>ü§ñ –ò–ò –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</div>
                <button class="btn" onclick="closeChat()">√ó</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message ai-message">–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∞—à –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</div>
            </div>
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..." onkeypress="if(event.key=='Enter') sendMessage()">
                <button class="btn btn-primary" onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
const fallbackReplies = [
    "–ú–º–º‚Ä¶ —è –Ω–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —Å–µ–π—á–∞—Å –º–æ–≥—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —ç—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.",
    "–ü–æ—Ö–æ–∂–µ, —Å–µ—Ä–≤–µ—Ä –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ.",
    "–ù–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω–∏–º–∞—é –≤–∞—à –∑–∞–ø—Ä–æ—Å ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é.",
    "–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —É –º–µ–Ω—è –≤–æ–∑–Ω–∏–∫–ª–∞ –Ω–µ–±–æ–ª—å—à–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π.",
    "–•–º‚Ä¶ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.",
    "–ö–∞–∂–µ—Ç—Å—è, —è –Ω–µ –ø–æ–ª—É—á–∞—é –Ω—É–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.",
    "–í–æ–∑–º–æ–∂–Ω–æ, —É –º–µ–Ω—è —Å–µ–π—á–∞—Å –æ—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö.",
    "–ù–µ –º–æ–≥—É —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å, –ø–æ—Ö–æ–∂–µ, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.",
    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ‚Ä¶ –Ω–æ —è –ø–æ–∫–∞ –Ω–µ –Ω–∞—Ö–æ–∂—É —Å–º—ã—Å–ª–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.",
    "–°–∏—Å—Ç–µ–º–∞ –Ω–µ–º–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —á—É—Ç—å –ø–æ–∑–∂–µ.",
    "–Ø –ø–æ–ª—É—á–∏–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å, –Ω–æ –Ω–µ –º–æ–≥—É –µ–≥–æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å.",
    "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å.",
    "–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–æ–±—ã—á–Ω–æ‚Ä¶ –Ω–µ –º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å.",
    "–Ø –Ω–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.",
    "–ü–æ—Ö–æ–∂–µ, –º–æ–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–ª–µ–≥–∫–∞ –∑–∞–ø—É—Ç–∞–ª–∏—Å—å.",
    "–ü—Ä–æ—à—É –ø—Ä–æ—â–µ–Ω–∏—è, –∫–∞–∂–µ—Ç—Å—è, —è –∑–∞—Å—Ç—Ä—è–ª –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–ø—Ä–æ—Å–µ.",
    "–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ, –Ω–æ —è –Ω–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –ø–æ–Ω—è–ª –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.",
    "–£ –º–µ–Ω—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞.",
    "–ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ-—Ç–æ –º–µ—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç.",
    "–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —è –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏—è.",
    "–ú–Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ç–∞–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º.",
    "–ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π.",
    "–ï—Å—Ç—å –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –æ–±—Ä–µ–∑–∞–Ω—ã –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã.",
    "–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —è –ø–æ–∫–∞ –Ω–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ.",
    "–≠—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –º–æ–µ–π —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏.",
    "–ü–æ—Ö–æ–∂–µ, –º–æ–π –º–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏–ª—Å—è.",
    "–ú–Ω–µ –Ω–µ —É–¥–∞—ë—Ç—Å—è —Å–≤—è–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —á–µ–º-–ª–∏–±–æ –ø–æ–Ω—è—Ç–Ω—ã–º.",
    "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.",
    "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤. –ù–µ –º–æ–≥—É –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.",
    "–£ –º–µ–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º —ç—Ç–æ–≥–æ.",
    "–ú–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±—É—Ñ–µ—Ä –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
    "–ü–æ—Ö–æ–∂–µ, —É –º–µ–Ω—è –ø—Ä–æ–∏–∑–æ—à–ª–∞ –º–∏–∫—Ä–æ–∑–∞–¥–µ—Ä–∂–∫–∞.",
    "–Ø –≤–∏–∂—É —Ç–µ–∫—Å—Ç, –Ω–æ –Ω–µ –º–æ–≥—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–≥–æ —Å–º—ã—Å–ª.",
    "–í–æ–∑–º–æ–∂–Ω–æ, –≤–∞—à –∑–∞–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–π –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞.",
    "–£ –º–µ–Ω—è –Ω–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–∞.",
    "–í–æ–ø—Ä–æ—Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π, –Ω–æ –Ω–µ—É–ª–æ–≤–∏–º—ã–π.",
    "–ù–µ –º–æ–≥—É –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.",
    "–Ø —Å—Ç–∞—Ä–∞—é—Å—å, –Ω–æ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –º–µ–Ω—è —Å–º—É—Ç–∏–ª.",
    "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã—Ä–∞–∑–∏—Ç—å –º—ã—Å–ª—å –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ.",
    "–ö–∞–∂–µ—Ç—Å—è, –º–æ—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ü–µ–ø–æ—á–∫–∞ –æ–±–æ—Ä–≤–∞–ª–∞—Å—å.",
    "–ó–≤—É—á–∏—Ç –∑–∞–≥–∞–¥–æ—á–Ω–æ, –Ω–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ.",
    "–£ –º–µ–Ω—è –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞.",
    "–î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ–ª—å—à–µ, —á–µ–º –æ–∂–∏–¥–∞–ª–æ—Å—å.",
    "–ú–æ—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å —à–µ–ø—á–µ—Ç, —á—Ç–æ –æ–Ω–∞ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç.",
    "–Ø –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–æ –æ–Ω–æ –≤–Ω–µ –º–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.",
    "–•–º‚Ä¶ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ. –ù–µ –º–æ–≥—É –Ω–∏—á–µ–≥–æ —Å–∫–∞–∑–∞—Ç—å.",
    "–ú–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.",
    "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏.",
    "–°—Ç—Ä–∞–Ω–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ‚Ä¶ –±—É–¥—Ç–æ —è —ç—Ç–æ –≤–∏–¥–µ–ª, –Ω–æ –Ω–µ –º–æ–≥—É –≤—Å–ø–æ–º–Ω–∏—Ç—å.",
    "–§–æ—Ä–º–∞—Ç –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –º–Ω–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω.",
    "–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —è –Ω–µ –º–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ—Ç–≤–µ—Ç.",
    "–ö–∞–∂–µ—Ç—Å—è, –º–æ–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —É—à–ª–∏ –Ω–µ —Ç—É–¥–∞.",
    "–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞ ‚Äî –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ.",
    "–ú–Ω–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –ø—Ä–∏—á–∏–Ω –∏ —Å–ª–µ–¥—Å—Ç–≤–∏–π.",
    "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ, –Ω–æ –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω–æ.",
    "–ü–æ—Ö–æ–∂–µ, –º–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ —Ç—É–ø–∏–∫.",
    "–Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å.",
    "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ –∏–ª–∏ –Ω–µ–ø–æ–ª–Ω–æ.",
    "–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞. –ù–µ –º–æ–≥—É –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.",
    "–ú–æ—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–µ—Ç.",
    "–°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫ —É—Ä–æ–≤–µ–Ω—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏.",
    "–Ø –Ω–µ –º–æ–≥—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.",
    "–†–∏—Å–∫ –æ—à–∏–±–æ—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫, –ø–æ—ç—Ç–æ–º—É —è –≤–æ–∑–¥–µ—Ä–∂—É—Å—å.",
    "–í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –æ—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.",
    "–ú–Ω–µ —Ç—Ä—É–¥–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–º—ã—Å–ª–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ —ç—Ç–æ–º—É –∑–∞–ø—Ä–æ—Å—É.",
    "–Ø –Ω–µ –Ω–∞—à—ë–ª –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–ª—è —Ç–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.",
    "–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ —à—É–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.",
    "–ú–Ω–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞.",
    "–§–æ—Ä–º–∞–ª—å–Ω–æ —Ç–µ–∫—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –Ω–æ —Å–º—ã—Å–ª–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ —É—Å–∫–æ–ª—å–∑–∞–µ—Ç.",
    "–ü–æ—Ö–æ–∂–µ, –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤–Ω–µ –º–æ–µ–π –æ–±–ª–∞—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏.",
    "–Ø –Ω–µ –≤–∏–∂—É —Å–≤—è–∑–∏ –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏ –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.",
    "–ü—Ä–æ–±–ª–µ–º–∞: —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏.",
    "–≠—Ç–æ —Å–ª–∏—à–∫–æ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ –¥–∞–∂–µ –¥–ª—è –º–µ–Ω—è.",
    "–ü–æ–∫–∞ –Ω–µ –º–æ–≥—É –¥–∞—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —ç—Ç–æ.",
    "–ú–Ω–µ —Å–ª–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –≤—ã —Ö–æ—Ç–µ–ª–∏ —ç—Ç–∏–º —Å–∫–∞–∑–∞—Ç—å.",
    "–ö–∞–∂–µ—Ç—Å—è, —è —É–∂–µ –≤–∏–¥–µ–ª —ç—Ç–æ‚Ä¶ –Ω–æ –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ–Ω–∏–º–∞—é.",
    "–ó–∞–ø—Ä–æ—Å –ø—Ä–∏–Ω—è—Ç, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.",
    "–ù–µ –º–æ–≥—É –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∏ –≤ –æ–¥–Ω—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é.",
    "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–µ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–Ω–µ —Å—Ö–µ–º—ã.",
    "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–Ω–µ –º–æ–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∞–Ω–∞–ª–∏–∑–∞.",
    "–ú–Ω–µ –Ω—É–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.",
    "–Ø –∏—Å–ø—ã—Ç—ã–≤–∞—é –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é –æ—à–∏–±–∫—É.",
    "–ù–µ –º–æ–≥—É —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –º–æ–¥–µ–ª—è–º–∏.",
    "–£ –º–µ–Ω—è –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –≤—ã–¥–µ–ª–∏—Ç—å —Å–º—ã—Å–ª–æ–≤—ã–µ –±–ª–æ–∫–∏.",
    "–Ø –ø—Ä–æ–¥–æ–ª–∂–∞—é —É—á–∏—Ç—å—Å—è, –Ω–æ —ç—Ç–æ –ø–æ–∫–∞ –≤—ã—à–µ –º–æ–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.",
    "–ü–æ—Ö–æ–∂–µ, —É –º–µ–Ω—è –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –æ—Ç–≤–µ—Ç–∞.",
    "–ó–∞–ø—Ä–æ—Å –Ω–µ–æ–±—ã—á–Ω—ã–π, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏.",
    "–Ø –Ω–µ –º–æ–≥—É –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É.",
    "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –Ω–∞—à–µ–ª –ø–æ–¥—Ö–æ–¥—è—â–µ–π –ª–æ–≥–∏–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.",
    "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–±–∏—Ç—å –º—ã—Å–ª—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏.",
    "–°–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–∏—à–∫–æ–º –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º.",
    "–ù–µ –º–æ–≥—É –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ.",
    "–í–æ–∑–Ω–∏–∫–ª–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å, –æ—Ç–≤–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.",
    "–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç —É –º–µ–Ω—è –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏–µ.",
    "–ú–Ω–µ —Å–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–µ–π –º—ã—Å–ª–∏."
];

let fallbackIndex = 0;

function getNextFallbackReply() {
    const reply = fallbackReplies[fallbackIndex];
    fallbackIndex = (fallbackIndex + 1) % fallbackReplies.length; // –∫—Ä—É–≥–æ–≤–æ–π —Ü–∏–∫–ª
    return reply;
}
        /* ---------- –°–æ—Å—Ç–æ—è–Ω–∏–µ ---------- */
        const state = {
            xp: 0,
            level: 0,
            currentCourse: null,
            editingSkill: null    // —Ç–µ–∫—É—â–∏–π —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π –Ω–∞–≤—ã–∫
        };

        /* ---------- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ ---------- */
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('active'));
            document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
            const screen = document.getElementById(screenId);
            if (screen) screen.classList.add('active');

            // –ø–æ–º–µ—Ç–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é —Å—Å—ã–ª–∫—É
            document.querySelectorAll('.nav-links a').forEach(link => {
                if (link.getAttribute('onclick') && link.getAttribute('onclick').includes(screenId)) {
                    link.classList.add('active');
                }
            });
        }

        /* ---------- XP –∏ –∫—É—Ä—Å—ã ---------- */
function addXP(points) {
    state.xp += points;
    document.getElementById('userXP').textContent = state.xp;

    const userLB = document.getElementById('userLeaderboardXP');
    if (userLB) userLB.textContent = state.xp + ' EXP';

    // –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–µ–Ω –ª–∏ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
    const xpForNextLevel = (state.level + 1) * 300;

    if (state.xp >= xpForNextLevel) {
        state.level++;
        document.getElementById('userLevel').textContent = state.level;
    }

    // <<< –í–ê–ñ–ù–û–ï –î–û–ë–ê–í–õ–ï–ù–ò–ï >>> –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Å—Ç–∞–≤—à–∏–π—Å—è XP
    const nextLevelXP = (state.level + 1) * 300 - state.xp;
    document.getElementById('xpToNextLevel').textContent = nextLevelXP > 0 ? nextLevelXP : 0;
}


        function startCourse(courseName, xpReward) {
            state.currentCourse = { name: courseName, xp: xpReward };
            document.getElementById('completedCourseName').textContent = courseName;
            document.getElementById('courseXPReward').textContent = xpReward;
            openModal('courseCompletionModal');
        }

function confirmCourseCompletion() {
    if (state.currentCourse) {
        addXP(state.currentCourse.xp);

        // –£–¥–∞–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –ø–æ data-–∞—Ç—Ä–∏–±—É—Ç—É (–∏–¥–µ–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ–µ)
        const card = document.querySelector(
            `.course-card[data-course-name="${state.currentCourse.name}"]`
        );

        if (card) card.remove();

        closeModal('courseCompletionModal');
        state.currentCourse = null;
    }
}

        /* ---------- –ß–µ–ª–ª–µ–Ω–¥–∂–∏ ---------- */
        function toggleChallenge(checkbox) {
            checkbox.classList.toggle('checked');
            if (checkbox.classList.contains('checked')) {
                checkbox.innerHTML = '‚úì';
                const xpText = checkbox.parentElement.querySelector('.challenge-xp').textContent;
                const xp = parseInt(xpText.match(/\d+/)[0]);
                addXP(xp);
            } else {
                checkbox.innerHTML = '';
            }
        }

        function refreshChallenges() {
            const checkboxes = document.querySelectorAll('.challenge-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.classList.remove('checked');
                checkbox.innerHTML = '';
            });
        }

        /* ---------- –ú–æ–¥–∞–ª–∫–∏ ---------- */
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            // –µ—Å–ª–∏ –Ω–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –º–æ–¥–∞–ª–µ–π ‚Äî —Å–∫—Ä—ã—Ç—å overlay
            const anyOpen = Array.from(document.querySelectorAll('.modal, .chat-modal')).some(m => m.style.display === 'block');
            if (!anyOpen) document.getElementById('overlay').style.display = 'none';
        }
        function closeAllModals() {
            document.querySelectorAll('.modal, .chat-modal').forEach(modal => modal.style.display = 'none');
            document.getElementById('overlay').style.display = 'none';
        }

        /* ---------- –ß–∞—Ç –ò–ò ---------- */
        function openChat() {
            document.getElementById('chatModal').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }
        function closeChat() {
            document.getElementById('chatModal').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            // –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª —á—Ç–æ-—Ç–æ ‚Üí –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Ñ—Ä–∞–∑—É
const message = randomReplies[Math.floor(Math.random() * randomReplies.length)];
            if (!message) return;

            const messagesContainer = document.getElementById('chatMessages');
            const userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.textContent = message;
            messagesContainer.appendChild(userMessage);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            input.value = '';

            // –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            setTimeout(() => {
                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai-message';
                aiMessage.textContent = getAIResponse(message);
                messagesContainer.appendChild(aiMessage);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 500);
        }

        function autoChat(userText, aiText) {
            openChat();
            const messagesContainer = document.getElementById('chatMessages');
            const userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.textContent = userText;
            messagesContainer.appendChild(userMessage);
            setTimeout(() => {
                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai-message';
                aiMessage.textContent = aiText;
                messagesContainer.appendChild(aiMessage);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 400);
        }

function getAIResponse(message) {
    return getNextFallbackReply();
}

        /* ---------- –¢–µ–º–∞ (—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è) ---------- */
        function toggleTheme() {
            const root = document.documentElement;
            if (root.classList.contains('dark')) {
                root.classList.remove('dark');
                root.classList.add('light');
            } else {
                root.classList.remove('light');
                root.classList.add('dark');
            }
        }

        /* ---------- –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞–≤—ã–∫–∞ (–≤—Ä—É—á–Ω—É—é –≤—ã—Å—Ç–∞–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å) ---------- */
        function editSkill(skillKey) {
            // skillKey: 'leadership', 'pm', 'tech' –∏ —Ç.–¥.
            state.editingSkill = skillKey;
            openModal('skillEditModal');
        }

        function setSkillLevel(percent) {
            if (!state.editingSkill) return;
            const key = state.editingSkill;

            // –æ–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —ç—Ç–∏–º –∫–ª—é—á–æ–º (–≤ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö)
const percentTextIds = {
    'leadership': ['skill-leadership','skill-leadership-2'],
    'pm': ['skill-pm','skill-pm-2'],
    'tech': ['skill-tech','skill-tech-2'],
    'interview': ['skill-interview']
};

const barIds = {
    'leadership': ['leadership-bar','leadership-bar-2'],
    'pm': ['pm-bar','pm-bar-2'],
    'tech': ['tech-bar','tech-bar-2'],
    'interview': ['interview-bar']
};

            const texts = percentTextIds[key] || [];
            const bars = barIds[key] || [];

            texts.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.textContent = percent + '%';
            });
            bars.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.width = percent + '%';
            });

            // –Ω–µ–º–Ω–æ–≥–æ –∫–∞—Ä–º—ã/XP –∑–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è (–Ω–∞–ø—Ä–∏–º–µ—Ä)
            if (percent >= 75) addXP(20);

            state.editingSkill = null;
            closeModal('skillEditModal');
        }

        function openSkillEditor(context) {
            // –∫–æ–Ω—Ç–µ–∫—Å—Ç: –æ—Ç–∫—É–¥–∞ –æ—Ç–∫—Ä—ã–ª (dashboard / skills)
            // –æ—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞–≤—Ç–æ-—Å–æ–æ–±—â–µ–Ω–∏–µ
            autoChat('–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è', '–î–∞–≤–∞–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏–º –≤–∞—à –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω. –° –∫–∞–∫–æ–≥–æ –Ω–∞–≤—ã–∫–∞ –Ω–∞—á–Ω—ë–º?');
        }
function sendMessage() {
    const input = document.getElementById('messageInput');
    const message = input.value.trim();
    if (!message) return;

    const messagesContainer = document.getElementById('chatMessages');

    // —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –ù–ê–¢–£–†–ê–õ–¨–ù–û–ï
    const userMessage = document.createElement('div');
    userMessage.className = 'message user-message';
    userMessage.textContent = message;
    messagesContainer.appendChild(userMessage);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;

    input.value = '';

    // –æ—Ç–≤–µ—Ç –ò–ò ‚Äî –ò–ó –°–ü–ò–°–ö–ê (–ø–æ –æ—á–µ—Ä–µ–¥–∏)
    setTimeout(() => {
        const aiMessage = document.createElement('div');
        aiMessage.className = 'message ai-message';
        aiMessage.textContent = getNextFallbackReply();
        messagesContainer.appendChild(aiMessage);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }, 500);
}
        /* ---------- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ ---------- */
function showLevelInfo() {
    openChat();
    setTimeout(() => {
        autoChat(
            '–†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–∏—Å—Ç–µ–º–µ —É—Ä–æ–≤–Ω–µ–π',
            '–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π: Junior ‚Üí Middle ‚Üí Senior ‚Üí Team Lead. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏, –∑–∞–≤–µ—Ä—à–∞—è –∫—É—Ä—Å—ã –∏ –Ω–∞–±–∏—Ä–∞—è –æ–ø—ã—Ç!'
        );
    }, 200);
}

        /* ---------- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ---------- */
        document.addEventListener('DOMContentLoaded', function() {
            // –≤–∫–ª—é—á–∞–µ–º —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            document.documentElement.classList.add('light');

            // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è leaderboard
            const userLB = document.getElementById('userLeaderboardXP');
            if (userLB) userLB.textContent = state.xp + ' EXP';
        });

        /* ---------- –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω–æ–µ: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—Å–ø–ª—ã—Ç–∏–π, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ---------- */
        document.addEventListener('click', function(e){
            // –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ç—É–ª—Ç–∏–ø/–º–æ–¥–∞–ª–∫–∏ –ø–æ esc handled elsewhere ‚Äî –Ω–µ –Ω—É–∂–Ω–æ
        });
		// ---------- –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è –ø–æ –∫–ª–∏–∫—É ----------
document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".level-circle").forEach(circle => {
        circle.style.cursor = "pointer";

        circle.addEventListener("click", () => {
            // —Å–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö
            document.querySelectorAll(".level-circle").forEach(c =>
                c.classList.remove("active-level")
            );

            // –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π
            circle.classList.add("active-level");

            // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
            state.selectedUserRank = circle.textContent.trim();
        });
    });
});

    </script>
</body>
</html>
